<div class="container mx-auto max-w-2xl p-4">
  <form [formGroup]="form" (ngSubmit)="submitNewTask()" class="space-y-6">
    <!-- Affichage des erreurs -->
    <div *ngFor="let error of messageErrors" 
         class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded animate-fadeIn"
         role="alert">
      <div class="flex items-center">
        <svg class="h-5 w-5 text-red-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span>{{ error }}</span>
      </div>
    </div>

    <!-- Champ titre -->
    <div class="space-y-2">
      <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
      <input id="title"
             type="text"
             formControlName="title"
             class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
             [ngClass]="{'border-red-500': form.get('title')?.touched && form.get('title')?.invalid}">
      <div *ngIf="form.get('title')?.touched && form.get('title')?.invalid" 
           class="text-red-600 text-sm mt-1 animate-fadeIn">
        <div *ngIf="form.get('title')?.errors?.['required']">Title is required</div>
        <div *ngIf="form.get('title')?.errors?.['maxlength']">Title must be less than 20 characters</div>
      </div>
    </div>

    <!-- Champ description -->
    <div class="space-y-2">
      <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
      <textarea id="description"
                formControlName="description"
                rows="4"
                class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                [ngClass]="{'border-red-500': form.get('description')?.touched && form.get('description')?.invalid}">
      </textarea>
      <div *ngIf="form.get('description')?.touched && form.get('description')?.invalid"
           class="text-red-600 text-sm mt-1 animate-fadeIn">
        <div *ngIf="form.get('description')?.errors?.['required']">Description is required</div>
        <div *ngIf="form.get('description')?.errors?.['minlength']">Description must be at least 10 characters</div>
      </div>
    </div>

    <!-- Bouton submit -->
    <button type="submit"
            class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-150 ease-in-out">
      Submit
    </button>
  </form>
</div>